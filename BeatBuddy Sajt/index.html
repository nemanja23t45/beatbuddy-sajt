<!DOCTYPE html>
<html lang="sr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>BeatBuddy | Premium Muziƒçko Iskustvo</title>
    <link href="https://fonts.googleapis.com/css2?family=Plus+Jakarta+Sans:wght@400;500;700;800&display=swap" rel="stylesheet">
    <style>
        :root {
            --primary: #00d4ff;
            --primary-glow: rgba(0, 212, 255, 0.3);
            --bg: #05070a;
            --card-bg: rgba(255, 255, 255, 0.03);
            --card-border: rgba(255, 255, 255, 0.08);
            --text-main: #ffffff;
            --text-dim: #8a8f9d;
        }

        html { scroll-behavior: smooth; }
        body {
            margin: 0; padding: 0;
            background-color: var(--bg);
            color: var(--text-main);
            font-family: 'Plus Jakarta Sans', sans-serif;
            overflow-x: hidden;
        }

        #notesCanvas {
            position: fixed; top: 0; left: 0;
            width: 100%; height: 100%;
            z-index: -1;
            background: radial-gradient(circle at 50% 50%, #10141d 0%, #05070a 100%);
            pointer-events: none;
        }

        /* --- MODERNA NAVIGACIJA --- */
        .navbar {
            position: fixed; top: 0; left: 0; right: 0;
            display: flex; justify-content: space-between; align-items: center;
            padding: 20px 10%;
            background: rgba(5, 7, 10, 0.7);
            backdrop-filter: blur(15px);
            z-index: 1000;
            border-bottom: 1px solid var(--card-border);
        }
        .nav-brand { display: flex; align-items: center; gap: 12px; text-decoration: none; color: white; }
        .nav-logo { width: 35px; height: 35px; border-radius: 10px; box-shadow: 0 0 15px var(--primary-glow); }
        .nav-name { font-weight: 800; font-size: 1.2rem; letter-spacing: -0.5px; }
        
        #status-dot {
            width: 10px; height: 10px;
            background-color: #444;
            border-radius: 50%;
            margin-left: 5px;
            transition: 0.5s;
        }
        .online { background-color: #2ecc71 !important; box-shadow: 0 0 12px #2ecc71 !important; }
        .offline { background-color: #e74c3c !important; box-shadow: 0 0 12px #e74c3c !important; }

        .nav-links { display: flex; gap: 30px; }
        .nav-links a { color: var(--text-dim); text-decoration: none; font-weight: 600; font-size: 0.95rem; transition: 0.3s; }
        .nav-links a:hover { color: var(--primary); }

        /* --- MODERNI HERO --- */
        .hero { padding: 180px 20px 100px; text-align: center; max-width: 1200px; margin: 0 auto; }
        .hero-badge {
            background: rgba(0, 212, 255, 0.1); color: var(--primary);
            padding: 8px 16px; border-radius: 100px; font-size: 0.85rem;
            font-weight: 700; display: inline-block; margin-bottom: 25px;
            border: 1px solid rgba(0, 212, 255, 0.2);
            animation: fadeInDown 0.8s ease;
        }
        .hero-title { font-size: 5rem; font-weight: 800; margin: 0; line-height: 1.05; letter-spacing: -2px; }
        .hero-title span { color: var(--primary); text-shadow: 0 0 30px var(--primary-glow); }
        .hero-subtitle { color: var(--text-dim); font-size: 1.25rem; max-width: 650px; margin: 30px auto 45px; line-height: 1.6; }

        .hero-btns { display: flex; justify-content: center; gap: 15px; }
        .btn { padding: 18px 40px; border-radius: 16px; font-weight: 700; text-decoration: none; transition: 0.3s; font-size: 1.05rem; cursor: pointer; border: none; }
        .btn-primary { background: var(--primary); color: #000; box-shadow: 0 10px 30px var(--primary-glow); }
        .btn-secondary { background: var(--card-bg); color: white; border: 1px solid var(--card-border); backdrop-filter: blur(10px); }
        .btn:hover { transform: translateY(-5px); filter: brightness(1.1); }

        /* --- STATS KARTICE --- */
        .stats-grid { display: flex; justify-content: center; gap: 25px; margin-top: 80px; }
        .stat-card { 
            background: var(--card-bg); 
            border: 1px solid var(--card-border); 
            padding: 35px; 
            border-radius: 24px; 
            min-width: 200px;
            backdrop-filter: blur(10px);
            transition: 0.3s;
        }
        .stat-card:hover { border-color: var(--primary); transform: scale(1.05); }
        .stat-card h3 { font-size: 3rem; margin: 0; color: var(--primary); font-weight: 800; }
        .stat-card p { margin: 10px 0 0; color: var(--text-dim); text-transform: uppercase; font-size: 0.8rem; font-weight: 700; letter-spacing: 1.5px; }

        footer { margin-top: 150px; padding: 50px 10%; border-top: 1px solid var(--card-border); text-align: center; }
        footer p { color: var(--text-dim); font-size: 0.95rem; }

        @keyframes fadeInDown {
            from { opacity: 0; transform: translateY(-20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        @media (max-width: 768px) {
            .hero-title { font-size: 3.2rem; }
            .stats-grid { flex-direction: column; align-items: center; }
            .stat-card { width: 80%; }
        }
    </style>
</head>
<body>
    <canvas id="notesCanvas"></canvas>

    <nav class="navbar">
        <a href="index.html" class="nav-brand">
            <img src="beatbuddy.png" class="nav-logo" alt="Logo">
            <span class="nav-name">BEATBUDDY</span>
            <div id="status-dot" title="Uƒçitavam status..."></div>
        </a>
        <div class="nav-links">
            <a href="index.html">Poƒçetna</a>
            <a href="komande.html">Komande</a>
            <a href="https://discord.com/invite/7vdGCVNKmp" target="_blank">Podr≈°ka</a>
        </div>
    </nav>

    <div class="hero">
        <div class="hero-badge"> üéß BeatBuddy ‚Äì tvoj liƒçni muziƒçki saputnik na Discordu! üé∂</div>
        <h1 class="hero-title">Va≈°a muzika,<br>va≈°a <span>pravila.</span></h1>
        <p class="hero-subtitle">Iskusite kristalno ƒçist zvuk, napredne komande i potpunu stabilnost. Najbolji muziƒçki bot za va≈° Discord server.</p>
        
        <div class="hero-btns">
            <a href="https://discord.com/oauth2/authorize?client_id=1159192597781282907" class="btn btn-primary">Dodaj u Discord</a>
            <a href="komande.html" class="btn btn-secondary">Lista Komandi</a>
        </div>

        <div class="stats-grid">
            <div class="stat-card">
                <h3 id="server-count">--</h3>
                <p>Aktivna Servera</p>
            </div>
            <div class="stat-card">
                <h3 id="user-count">--</h3>
                <p>Zadovoljnih Korisnika</p>
            </div>
        </div>
    </div>

    <footer>
        <p>¬© 2024 BeatBuddy. Razvio <span style="color: var(--primary); font-weight: 700;">vukasinov1c</span></p>
    </footer>

    <script>
        // --- Animacija Nota (Modernizovana) ---
        const canvas = document.getElementById('notesCanvas');
        const ctx = canvas.getContext('2d');
        let notes = [];
        const noteTypes = ['‚ô™', '‚ô´', '‚ô¨'];
        function resize() { canvas.width = window.innerWidth; canvas.height = window.innerHeight; }
        window.addEventListener('resize', resize);
        resize();

        class Note {
            constructor() { this.reset(); this.y = Math.random() * canvas.height; }
            reset() {
                this.x = Math.random() * canvas.width;
                this.y = canvas.height + 50;
                this.size = Math.random() * 15 + 10;
                this.speed = Math.random() * 1 + 0.5;
                this.opacity = Math.random() * 0.15;
                this.type = noteTypes[Math.floor(Math.random() * noteTypes.length)];
            }
            update() { this.y -= this.speed; if (this.y < -50) this.reset(); }
            draw() {
                ctx.globalAlpha = this.opacity;
                ctx.font = `${this.size}px sans-serif`;
                ctx.fillStyle = "#00d4ff";
                ctx.fillText(this.type, this.x, this.y);
            }
        }
        for (let i = 0; i < 30; i++) notes.push(new Note());
        function animate() {
            ctx.clearRect(0, 0, canvas.width, canvas.height);
            notes.forEach(n => { n.update(); n.draw(); });
            requestAnimationFrame(animate);
        }
        animate();

        // --- FIREBASE STATS & STATUS ---
        async function updateStats() {
            try {
                const response = await fetch('https://beatbuddystats-default-rtdb.europe-west1.firebasedatabase.app/.json?t=' + Date.now());
                const data = await response.json();
                
                if(data) {
                    // Update Brojeva
                    document.getElementById('server-count').innerText = (data.servers || 0) + "+";
                    const uCount = data.users || 0;
                    document.getElementById('user-count').innerText = uCount >= 1000 ? (uCount / 1000).toFixed(1) + "k+" : uCount + "+";

                    // Update Status Dot-a
                    const dot = document.getElementById('status-dot');
                    const now = Math.floor(Date.now() / 1000);
                    
                    // Ako je bot poslao signal u zadnjih 5 min (300s)
                    if (data.last_seen && (now - data.last_seen) < 300) {
                        dot.className = 'online';
                        dot.title = "Bot je na mre≈æi";
                    } else {
                        dot.className = 'offline';
                        dot.title = "Bot je trenutno iskljuƒçen";
                    }
                }
            } catch (error) { console.error("Gre≈°ka pri osve≈æavanju podataka:", error); }
        }

        updateStats();
        setInterval(updateStats, 30000); // Provera na 30 sekundi
    </script>
</body>
</html>